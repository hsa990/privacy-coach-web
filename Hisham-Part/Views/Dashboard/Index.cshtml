@{
    ViewData["Title"] = "Dashboard";

    int? score = TempData["QuizScore"] as int?;

    string level = "";
    string badgeClass = "";
    List<string> tips = new List<string>();

    if (score != null)
    {
        if (score <= 4)
        {
            level = "Low Privacy Awareness";
            badgeClass = "bg-danger";
            tips = new List<string>
            {
                "Update old or repeated passwords immediately.",
                "Review app permissions on your phone and remove unnecessary access.",
                "Avoid clicking unknown links or messages."
            };
        }
        else if (score <= 7)
        {
            level = "Moderate Privacy Awareness";
            badgeClass = "bg-warning text-dark";
            tips = new List<string>
            {
                "Enable Two-Factor Authentication for important accounts.",
                "Check if websites are using HTTPS before entering information.",
                "Reduce the amount of personal info you share publicly."
            };
        }
        else
        {
            level = "High Privacy Awareness";
            badgeClass = "bg-success";
            tips = new List<string>
            {
                "Continue updating passwords regularly.",
                "Keep using a password manager for safe storage.",
                "Maintain regular data backups for extra protection."
            };
        }
    }
}

<div class="dashboard-container">

    <h1 class="mb-4 text-center">Your Privacy Dashboard</h1>

    @if (score == null)
    {
        <div class="alert alert-info text-center">
            You have not taken the quiz yet.<br />
            <a href="/Quiz" class="btn btn-primary mt-3">Take the Quiz</a>
        </div>
    }
    else
    {
        <!-- Score Card -->
        <div class="card mb-4 shadow-sm p-4">
            <h4>Your Score</h4>
            <div class="d-flex align-items-center mt-3">
                <span class="score-number">@score / 10</span>
                <span class="badge ms-3 @badgeClass px-3 py-2">@level</span>
            </div>
        </div>

        <!-- Recommendations -->
        <div class="card shadow-sm p-4">
            <h4>Recommended Improvements</h4>

            <ul class="mt-3">
                @foreach (var tip in tips)
                {
                    <li>@tip</li>
                }
            </ul>
        </div>
    }
</div>

<style>
    .dashboard-container {
        max-width: 800px;
        margin: 40px auto;
    }

    .score-number {
        font-size: 40px;
        font-weight: bold;
        color: #4a148c;
    }

    ul li {
        font-size: 18px;
        margin-bottom: 10px;
    }

    .card {
        border-radius: 12px !important;
    }
</style>
